all:
  children:
    dlservers:
      vars:
        # We disable host key checking in our Vagrant test environment
        # because the host key changes each time we destroy and
        # recreate the VM. In a production environment it should be
        # enabled.
        ansible_ssh_common_args: -o StrictHostKeyChecking=no

        ansible_ssh_private_key_file: "{{lookup('env', 'HOME')}}/.vagrant.d/insecure_private_key"
        ansible_user: vagrant
        ansible_become: true

        # ansible_pipelining speeds things up, but according to the
        # docs it conflicts with some uses of become. Everything is
        # working ok so far; if it causes problems in the future, try
        # disabling it for individual tasks that are problematic.
        ansible_pipelining: true

      hosts:
        dlserver1:
          ansible_host: 127.0.0.1
          ansible_port: 2230 # must match setting in Vagrantfile
